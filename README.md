
<!-- PROJECT LOGO -->

<div align="center">

 <h1 align="center">TP Asservissement MCC</h3>
</div>

<div>


<h3 align="center">Table of content</h3>

 
1. [TP1 ](#TP1)
2. [TP2](#TP2)
3. [TP3](#TP3)
4. [TP4](#TP4)
 </center>
</div>


<br/>
<br/>
<br/>


## TP1

- Shell : 															  ‚úÖ
- G√©n√©ration des PWMs compl√©mentaires : ‚úÖ
- Calcul du temps mort : 								  ‚öôÔ∏è En r√©vision
- Signaux de commande :					 ‚úÖ allumage(Uart + Boutton) ‚úÖ speed
## TP2

‚öôÔ∏è Calcul du temps mort : 
  
‚û°Ô∏è $Fclk = 100MHz  \implies Tclk = 10ns$
 ${2*Tclk= 20 ns} \implies {Fclk = 2e-8 Hz}$
Dead time souhait√© : $2 us \implies Fdt = 2e-6 Hz$

‚û°Ô∏è ${Fdt\over Fclk}= {2e-6\over2e-8} = 100$

üìñ Via doc (ref manuel cartes G4) formule 2 : $Tdt =  (64 + **36**)*2t = 2us$ avec bits[7:5] = 10.

‚úèÔ∏è On √©crit donc 
$10100100 = 0xA4 = 164$ dans le registre TIMx_BTR (ou champ dead time dans STM32CubeMx)

***

üî¥ G√©n√©ration PWM compl√©mentaire d√©cal√©e de T/2 :  üî¥
 Tim counter : center aligned
PWM 1 : 80% rapport cyclique / PWM 2 : 20% du rapport cyclique 
Fr√©quence PWM autour de 16 KHz => {FCLK : 100Mhz / PSC : 5 / ARR : 12500} 

***
üîåBranchements :

Alim CC 42V 
DC+ => Red phase Top/Bott     => PWM1 / PWM1 compl√©mentaire 
DC- => Yellow phase Top/Bott => PWM2 / PWM2 compl√©mentaire 
Ne pas alimenter/gnd le PCB 
Set speed to 50% => moteur √† l'arret

***

- Test du moteur en boucle ouverte ‚úÖ
Remarques : 
a) Mise en d√©faut du hacheur lorsque les commandes de vitesses sont trop espac√©. (ex speed = 50% puis speed = 70%) Cause : Pic de courant car commande trop brusque => Besoin d'asservissement en courant.  
b) Saut de tension lors du freinage car alimentation non r√©versible.

- Mesure du courant moteur 

- Lecture de l'encodeur 


## TP3
## TP4
### Built With

This section should list any major frameworks/libraries used in this project.

* C/C++ 
* STM32Cube IDE
* MCC 
* Hacheur


##  Commands

<b>Get as local repository :</b>
Clone this repository 

  ```sh
  clone https://github.com/Valentin-42/Robot_Trieur
  ```
<br/>

<b>Update your local repository :</b>
Pull in the local repository folder

  ```sh
  git pull
  ```
<br/>

<b>After modifications :</b>
Add your changes 

  ```sh
  git add *
  ```
  
Commit your changes 

  ```sh
  git commit -m "My changes"
  ```
Push to the distant repository (branch=main)

  ```sh
  git push origin main
  ```
